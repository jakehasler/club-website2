"use strict";function renderEventsTable(){knucklebone.getJson("/get/events").success(function(e){dom("events-table-cont").purge();var t=document.createDocumentFragment();e.forEach(function(e){t.appendChild(createTableItem(e))}),dom("events-table-cont").append(t)}).error(function(){dom("events-table-cont").purge().append(createTableItem({id:"no_id",name:"Hack Night",place:"484 Tanner Bldg, BYU",date:"",time:"7-10pm",description:"Every Thursday, Hack on things and socialize."}))})}function createTableItem(e){e.date=e.date.replace(/-/g,"/");var t=dom.create("div").addClass("table-cont"),a=getDay(e.date),n=new Date(e.date).getDate(),d=getMonth(e.date);e.date=e.date||"",e.time=e.time||"";var r=dom.create("table").addClass("event-table").append(dom.create("tr").addClass("event-info").append(dom.create("td").addClass("event-name").text(e.name),dom.create("td").addClass("event-place").text(e.place),dom.create("td").addClass("event-time").text(a+", "+d+" "+n+". "+e.time)),dom.create("tr").addClass("event-description").append(dom.create("td").addClass("event-description").attr("colspan",3).text(e.description)));return t.append(r)}function getDay(e){var t=new Date(e).getDay(),a={0:"Sun",1:"Mon",2:"Tue",3:"Wed",4:"Thur",5:"Fri",6:"Sat"};return a[t]}function getMonth(e){var t=new Date(e).getMonth(),a={0:"Jan",1:"Feb",2:"Mar",3:"Apr",4:"May",5:"Jun",6:"Jul",7:"Aug",8:"Sep",9:"Oct",10:"Nov",11:"Dec"};return a[t]}window.addEventListener("load",function(){return renderEventsTable()}),dom("currentYear").textContent=(new Date).getFullYear();
