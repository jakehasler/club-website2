"use strict";var dom=function(){function t(){var t=document.getElementsByTagName("html")[0];Object.keys(h).forEach(function(n){t.contains(h[n])||delete h[n]})}function n(){for(var t=[],n=0,e=arguments.length;e>n;n++)t.push(arguments[n]);t.forEach(function(t){var n=t;t instanceof HTMLElement&&t.id&&(n=t.id),h[n]&&delete h[n]})}function e(t){var n=document.getElementById(t);return n?(h[t]=a(n),h[t]):null}function r(t,n){var e=t.getElementsByClassName(n);return i(e),e}function u(t,n){var e=t.getElementsByTagName(n);return i(e),e}function o(t){return a(document.createElement(t))}function s(t,e){var r=e===!1?e:!0,u=t;"string"==typeof t&&(u=dom(t)),u.parentNode&&u.parentNode.removeChild(u),r&&n(t)}function i(t){t.each=function(t){for(var n=this,e=0,r=n.length;r>e;e++)t(n[e])},t.toArr=function(t){for(var n=[],e=0,r=this.length;r>e;e++)n.push(this[e]);return n}}function a(t){return t.append=function(){for(var t=0,n=arguments.length;n>t;t++)this.appendChild(arguments[t]);return this},t.addClass=function(){for(var t=[],n=0,e=arguments.length;e>n;n++)t.push(arguments[n]);return this.classList.add.apply(this.classList,t),this},t.hasClass=function(t){return this.classList.contains(t)},t.removeClass=function(){for(var t=0,n=arguments.length;n>t;t++)this.classList.remove(arguments[t]);return this},t.setId=function(t){return this.id=t,h[t]||(h[t]=this),this},Object.defineProperty(t,"text",{configurable:!0,enumerable:!0,writable:!0,value:function(n){return"string"==typeof n&&t.appendChild(document.createTextNode(n)),t}}),t.purge=function(t){for(;this.firstChild;)this.removeChild(this.firstChild);return this},t.attr=function(t,n){return this.setAttribute(t,n),this},t.listen=function(){for(var t=[],n=0,e=arguments.length;e>n;n++)t.push(arguments[n]);return this.addEventListener.apply(this,t),this},t.emit=function(t){return this.dispatchEvent(new Event(t))},t.queryByClass=function(t){return r(this,t)},t.queryByTag=function(t){return u(this,t)},t.getComputedStyle=function(t,n){var e=getComputedStyle(this),r=e.getPropertyValue(t);return"int"===n?parseInt(r):"float"===n?parseFloat(r):r},t.destructor=function(t){return this.onDestruct=t,this},t}function c(t){return h[t]?h[t]:e(t)}function f(t){return c(t)}var h={};return f.get=c,f.queryByClass=function(t){return r(document.body,t)},f.create=o,f.remove=s,f.cache={"delete":n,clean:t,get:function(){var t={};return Object.keys(h).forEach(function(n){t[n]=h[n]}),t}},f}(),knucklebone=function(){function t(t,e,r,u){var s=o(new XMLHttpRequest);return s.addEventListener("readystatechange",function(t){4===s.readyState&&n(s,r,e)}),s.open(e,t),"GET"===e?s.send():"POST"===e&&("json"===r?(s.setRequestHeader("Content-Type","application/json;charset=UTF-8"),u instanceof Object?s.send(JSON.stringify(u)):s.send(u)):s.send(u)),s}function n(t,n,o){if(t.status>=200&&t.status<400){if("POST"===o)return e(t,t.response);if("json"!==n)return e(t,t.response);var s=u(t.response);return null===s?r(t,"Error parsing response. Expected JSON."):e(t,s)}return r(t,t.response)}function e(t,n){"function"==typeof t._onSuccess&&t._onSuccess(n)}function r(t,n){"function"==typeof t._onError&&t._onError(n)}function u(t){try{var n=JSON.parse(t)}catch(e){return null}return n}function o(t){return t.success=function(n){if("function"!=typeof n)throw Error('callback not passed to "success" method');return t._onSuccess=n,this},t.error=function(n){if("function"!=typeof n)throw Error('callback not passed to "error" method');return t._onError=n,this},t}function s(n){return t(n,"GET")}function i(n){return t(n,"GET","json")}function a(n,e){return t(n,"POST",void 0,e)}function c(n,e){return t(n,"POST","json",e)}function f(t){for(var n=document.getElementById(t).querySelectorAll("[kb]"),e={},r=0,u=n.length;u>r;r++){if(n[r].hasAttribute("name")){var o=n[r].getAttribute("name").trim();if(e[o])throw Error("form name dublicated");e[o]=n[r].value.trim()}n[r]}return e}return{get:s,getJson:i,post:a,postJson:c,formToObject:f}}(),rand=function(){function t(t,e){for(var r=t||32,u="",o=n[e||"alphaNumeric"],s=0;r>s;s++)u+=o.charAt(Math.floor(Math.random()*o.length));return u}var n={numeric:"1234567890",alphaNumeric:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",special:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@$&_"};return t.number=function(n){return t(n,"numeric")},t.alphaNumeric=t.string=function(n){return t(n,"alphaNumeric")},t.special=function(n){return t(n,"special")},t}();
